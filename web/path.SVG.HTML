<html>
<head>
<title>Various Test Beds for simple data manipulation for
	Dummies</title>
<script src="papaparse.js" type="text/javascript"></script>
</head>
<body>


	<h2>My first SVG</h2>

	<table id="fat">
		<tr>
			<th>Month</th>
			<th>Savings</th>
		</tr>
		<tr>
			<td>January</td>
			<td>$100</td>
		</tr>
	</table>


<h2> First CSV test </h2>

	<script>
function Table_To_CSV() {
    document.getElementById("fat");
    
     uri = "Arne ,Heinrich \nIlse ,Gesa ";
     res = encodeURI(uri);
    document.getElementById("csv").innerHTML = 'data:text/csv;charset=utf-8,'+res;
  
}
</script>

	<button onclick="PapaParse">TableToCSV</button>
	<button onclick="Table_To_CSV()">TableToCSV</button>
	<button onclick="myFunction()">Try encodeURI</button>

	<p id="demo"></p>

	<script>
function myFunction() {
    var uri = "my test.asp?name=st√•le&car=saab";
    var res = encodeURI(uri);
    document.getElementById("demo").innerHTML = res;
    
     uri = "Arne ,Heinrich \nIlse ,Gesa ";
     res = encodeURI(uri);
    document.getElementById("csv").innerHTML = 'data:text/csv;charset=utf-8,'+res;
    
    
}
</script>


	<a download="somedata.csv"
		href="data:application/csv;charset=utf-8,Arne,Heinrich%0AIlse,Gesa">Example</a>
	<pre id="raw"></pre>



	<img
		src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUA
AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO
9TXL0Y4OHwAAAABJRU5ErkJggg=="
		alt="Red dot" />

	<svg width="100" height="100">
  <circle cx="50" cy="50" r="40" stroke="green" stroke-width="4"
			fill="yellow" />
</svg>

	<script>
function CallPapa() {
    choose;
    
    
}
</script>

<h2> FileList </h2>

	<input type="file" id="files" name="files[]" multiple />
	<output id="list"></output>



	<script>
  function handleFileSelect(evt) {
    var files = evt.target.files; // FileList object

    // files is a FileList of File objects. List some properties.
    var output = [];
    var f;
    for (var i = 0; f = files[i]; i++) {
      output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
                  f.size, ' bytes, last modified: ',
                  f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a',
                  '</li>');
    }
    document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
    
    var reader = new FileReader();
    
 // Closure to capture the file information.
    reader.onload = (function(theFile) {
      return function(e) {
   			 document.getElementById('raw').innerHTML = e.target.result;
      	};
      
  })(f);
 
    reader.readAsText(f);
  }

  document.getElementById('files').addEventListener('change', handleFileSelect, false);
</script>





<h2> Image </h2>

<input type="file" id="filesImage" name="files[]" multiple />
<output id="listImage"></output>

<script>
  function handleFileSelectImage(evt) {
    var files = evt.target.files; // FileList object

    // Loop through the FileList and render image files as thumbnails.
    for (var i = 0, f; f = files[i]; i++) {

      // Only process image files.
      if (!f.type.match('image.*')) {
        continue;
      }

      var reader = new FileReader();

      // Closure to capture the file information.
      reader.onload = (function(theFile) {
        return function(e) {
          // Render thumbnail.
          var span = document.createElement('span');
          span.innerHTML = ['<img class="thumb" src="', e.target.result,
                            '" title="', escape(theFile.name), '"/>'].join('');
          document.getElementById('listImage').insertBefore(span, null);
        };
      })(f);

      // Read in the image file as a data URL.
      reader.readAsDataURL(f);
    }
  }

  document.getElementById('filesImage').addEventListener('change', handleFileSelectImage, false);
</script>




<h2> CSV </h2>

<input type="file" id="filesCSV" name="files[]" multiple />
<output id="listCSV"></output>

<script>
function Only_process_CSV_files(type){
	var allowed_type = ['application/vnd.ms-excel','text/plain','text/csv','text/tsv'];
	
	for (var i = 0; i < allowed_type.length; i++) {
	    if (type == allowed_type[i])
	        return true;
	}
	return false;
}

  function handleFileSelectCSV(evt) {
    var files = evt.target.files; // FileList object

    // Loop through the FileList and render image files as thumbnails.
    for (var i = 0, f; f = files[i]; i++) {

    
    	
    if (!Only_process_CSV_files(f.type)){
        continue;
      }

      var reader = new FileReader();

      // Closure to capture the file information.
      reader.onload = (function(theFile) {
        return function(e) {
          // Render thumbnail.
          var span = document.createElement('span');
          span.innerHTML = ['<pre>', e.target.result,
                            '<pre/>'].join('');
          document.getElementById('listCSV').insertBefore(span, null);
        };
      })(f);

      // Read in the image file as a data URL.
      reader.readAsDataURL(f);
    }
  }

  document.getElementById('filesCSV').addEventListener('change', handleFileSelectCSV, false);
</script>

</body>
</html>